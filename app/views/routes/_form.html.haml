= form_for @route do |f|
  - if @route.errors.any?
    #error_explanation
      %h2= "#{pluralize(@route.errors.count, "error")} prohibited this route from being saved:"
      %ul
        - @route.errors.full_messages.each do |msg|
          %li= msg

  .field
    = f.label :start_station_id
    = f.select :start_station_id, Station.all.collect{|s| [s.name, s.id]}, prompt: "Select a start station"
  .field
    = f.label :end_station_id
    = f.select :end_station_id, Station.all.collect{|s| [s.name, s.id]}, prompt: "Select an end station"
  -Station.all.each do |s|
    .field
      = label_tag s.name
      - tmp=s.route_stations.where(station_id: s, route_id: @route).first
      = select_time (tmp.blank? ? Time.now : tmp.arrival_time ), {prefix: "arrival_time[#{s.id}]"}
  .field
    = f.label :monday
    = f.check_box :monday
  .field
    = f.label :tuesday
    = f.check_box :tuesday
  .field
    = f.label :wednesday
    = f.check_box :wednesday
  .field
    = f.label :thursday
    = f.check_box :thursday
  .field
    = f.label :friday
    = f.check_box :friday
  .field
    = f.label :saturday
    = f.check_box :saturday
  .field
    = f.label :sunday
    = f.check_box :sunday
  .actions
    = f.submit 'Save'
